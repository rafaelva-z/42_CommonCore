.SILENT:
NAME = push_swap
CC = cc
LIBFT_FOLDER = ./libft/ 
LIBFT = $(LIBFT_FOLDER)libft.a
OTHERFLAG = -L$(LIBFT_FOLDER) -lft -o $(NAME)
CFLAGS = #-g -fsanitize=address #-Wall -Wextra -Werror
SRC = main.c \
	./utils/ft_issignal.c ./utils/ft_error.c ./utils/ft_lstbeforelast.c \
	./utils/ft_swap.c ./utils/heapperm.c ./utils/ft_bzero_int.c ./utils/print_utils.c \
	./utils/ps_checkers.c ./utils/ps_create_stack.c \
	./operations/ls_push.c ./operations/ls_rotate.c ./operations/ls_rrotate.c ./operations/ls_swap.c \
	./algos/ps_bruteforce.c ./algos/ps_newsort.c\

OBJ = $(SRC:.c=.o)

all: $(NAME)

$(NAME): $(LIBFT) $(OBJ)
	@$(CC) $(CFLAGS) $(OBJ) $(OTHERFLAG)
	@echo "$(NAME) - Done"

$(LIBFT):
	@make -C $(LIBFT_FOLDER)

clean:
	@echo "$(NAME) - Cleaning all object files."
	@rm -f $(OBJ)
	@make -C $(LIBFT_FOLDER) clean

fclean: clean
	@echo "$(NAME) - Full clean."  
	@rm -f $(NAME)
	@make -C $(LIBFT_FOLDER) fclean

re: fclean all 
	@echo "$(NAME) - Recompiling."  

run: re
	@echo "$(NAME) - running"
	#10
	#./push_swap 10 8 29 9 2 3 1 38 0 -10
	#100
	#./push_swap 72 43 81 87 10 76 45 53 34 28 68 91 39 94 56 37 35 1 71 11 95 4 46 36 15 18 52 24 13 26 27 2 62 57 20 9 12 50 82 80 44 89 93 32 66 29 58 97 17 70 23 55 73 22 40 85 100 25 33 65 90 74 5 63 99 88 67 41 42 7 75 21 31 78 86 30 64 48 61 83 69 16 96 8 79 54 6 3 92 14 49 47 77 38 84 51 19 98 59 60
	#1500
	./push_swap 1411 387 1298 956 1123 512 630 778 101 927 1426 114 756 607 558 981 896 879 571 834 479 372 591 104 1278 1451 848 398 427 842 654 692 395 613 274 867 1245 615 870 1130 314 855 1014 1157 765 179 258 153 494 1108 1065 720 1383 287 16 533 1038 1184 463 1152 450 84 1424 1069 223 438 1374 733 1015 1386 1422 738 790 53 1387 602 679 754 1165 1205 1016 474 1138 1412 917 608 1005 907 811 267 1195 812 1415 893 652 1468 1197 1188 807 526 1097 292 187 488 265 383 339 1158 1129 1435 714 281 127 1240 1030 134 965 920 1003 839 305 544 348 406 346 860 411 198 85 501 275 957 1436 283 191 901 719 1253 776 193 319 990 255 817 794 1 846 1177 542 307 119 1453 33 1357 118 739 57 252 648 876 95 1378 523 1095 664 1194 802 3 272 471 1082 1134 468 1267 1297 108 418 302 1028 1079 549 1366 940 317 856 627 1382 332 625 197 338 931 547 239 543 141 1316 1475 886 770 1004 318 456 170 721 116 624 753 49 362 309 1328 1324 1344 6 286 913 713 788 324 1301 691 634 734 985 1495 1183 377 532 382 67 605 1217 220 641 2 1008 584 1406 465 1259 112 892 91 242 783 611 323 631 256 1135 947 1221 110 1325 416 1461 379 1080 1480 849 238 744 73 1440 32 702 823 351 1485 340 670 816 554 1248 1036 1048 915 347 1312 1169 71 159 662 25 1012 580 895 1492 1153 939 1254 417 344 1282 1192 136 877 697 560 493 1090 227 1270 15 128 1185 46 974 257 1340 1231 797 199 687 1035 1464 1235 245 1318 1141 131 364 1191 329 885 178 1239 914 224 320 164 763 396 588 640 129 440 1212 414 1175 884 703 674 804 113 177 1084 1031 1338 1116 313 289 1493 567 93 38 869 1246 1225 559 1266 1409 805 497 1151 291 524 1179 1407 540 1109 762 943 1454 796 1037 208 772 254 844 464 1421 1472 447 695 760 376 297 384 1337 902 1206 975 43 341 1478 982 1096 138 360 872 1204 82 671 405 832 1496 1397 443 97 707 882 575 1369 1329 1189 1164 298 1476 1067 578 994 808 410 266 59 115 704 192 1403 262 1352 535 682 106 124 135 419 728 1149 694 1377 604 649 1143 1293 1198 1450 1459 357 529 478 562 583 629 490 1358 953 984 1433 334 248 732 1207 978 1339 76 40 970 784 183 1022 665 26 399 1093 316 826 565 1413 1187 50 354 401 27 881 466 1049 1333 386 755 1230 1288 467 590 496 121 236 126 740 1284 301 1463 336 391 61 216 1182 1146 1466 743 249 1285 233 169 325 1018 41 448 1013 966 1482 189 1251 109 300 1360 218 1430 1388 163 517 217 718 422 1376 1243 1490 1306 861 1483 1203 973 525 651 735 875 669 1110 122 800 1364 1404 1118 887 1260 1181 556 444 921 603 639 30 1437 672 1299 1350 88 1497 1044 918 513 331 1258 647 574 86 1320 779 1227 434 967 469 130 638 174 1269 1229 992 712 288 545 166 773 919 1252 699 150 1224 503 74 423 1000 989 1448 1007 850 366 180 1056 964 1410 899 259 155 142 782 673 188 911 1170 424 1050 1371 518 167 1088 685 1047 1372 420 47 1356 871 83 459 1159 157 1070 148 145 28 1213 698 1148 701 133 435 862 1238 1457 1099 14 367 1295 960 809 888 1385 237 555 1310 495 62 1347 891 971 1190 489 311 215 623 1261 1408 507 1127 487 530 579 1342 1263 1216 620 413 1032 1021 42 1276 168 520 1043 1052 500 1335 1398 568 1137 1025 1208 433 1308 933 207 977 103 378 1417 576 645 757 92 1420 912 1331 937 998 946 409 1166 792 232 55 961 894 1455 1089 929 11 1119 247 504 996 1222 1092 979 711 315 1264 330 1193 938 510 1112 1290 472 1313 492 1317 724 780 688 827 125 1087 226 854 1414 1355 1120 1365 1250 546 1059 1125 202 635 1081 120 813 363 1460 1147 658 948 1400 676 633 1486 609 221 1051 945 1491 1500 1444 515 708 211 285 374 1477 480 1039 600 1178 1156 219 610 593 194 90 916 677 353 835 1255 1234 359 1449 280 962 819 1053 5 365 381 13 19 48 594 1419 445 370 715 628 761 926 182 139 117 632 1315 1479 282 1180 210 531 1370 1133 165 696 612 995 425 727 214 1362 181 596 1361 1471 747 1241 273 1305 987 749 54 650 705 457 589 1068 505 1075 1244 767 1442 173 852 140 572 659 617 1416 1384 781 400 1210 412 1307 1042 908 889 270 1368 936 460 837 928 1291 863 228 1441 263 1063 1395 983 44 851 190 371 1273 1381 722 951 1423 264 209 690 1348 1033 980 909 663 328 296 1199 1215 453 9 206 1303 111 29 785 681 552 932 231 838 897 1045 829 1396 725 502 771 279 675 322 1349 1390 836 668 955 1447 1077 729 731 102 184 830 23 551 570 388 1402 87 462 486 1145 303 573 1064 883 516 37 60 171 833 1345 10 100 619 716 1280 900 1200 389 866 123 959 1122 541 473 598 717 81 78 599 1332 969 356 569 1462 684 820 1139 1223 748 1113 622 284 1066 644 80 865 253 958 299 1214 326 1484 403 934 1121 972 1058 244 342 521 441 1111 949 321 557 482 1236 498 1289 774 1336 1232 269 564 1272 1286 618 528 1024 1392 1128 404 1211 1071 1041 146 527 1150 201 107 243 824 1304 874 818 1074 260 241 1401 1002 455 859 1443 290 393 277 1467 709 349 746 548 768 847 693 327 1394 646 1456 437 536 12 689 1061 1168 1353 415 1311 550 186 1034 1359 432 1257 1296 65 1219 196 1465 723 1458 470 1309 798 1172 667 655 1124 1499 205 999 355 1220 39 250 822 69 657 1375 312 789 1321 858 700 534 1300 509 1019 1101 1202 1162 149 1023 506 1452 577 162 775 653 1142 22 1027 268 1326 666 678 1046 1470 439 1115 1265 1057 903 1319 442 203 1323 175 1174 70 742 585 1367 310 1242 79 452 993 941 592 306 1029 864 161 222 636 172 680 890 769 1429 825 1233 1279 1196 483 930 1432 511 597 845 1380 476 294 1379 1154 1094 1140 1446 686 160 752 1020 58 1262 361 563 991 1487 151 1314 350 293 176 1294 484 1418 1072 786 1040 1498 428 1167 446 706 925 454 944 1431 4 152 586 20 661 810 988 333 63 295 402 1006 976 64 1155 626 1427 1363 799 36 251 1160 1256 1247 429 880 1173 204 1343 246 1391 230 8 368 1405 1126 791 77 304 1322 449 240 873 185 793 1334 352 801 1268 923 1186 195 815 235 1085 358 380 98 764 553 213 561 229 24 766 1425 758 1399 1489 1026 75 656 1354 660 392 1098 853 710 1393 1102 595 508 477 857 225 56 1171 730 335 616 726 539 271 924 45 642 1104 935 21 1100 997 105 96 1209 1218 156 582 621 68 795 1389 601 968 143 1226 408 878 581 1249 426 906 1277 843 31 1136 514 1062 538 1351 1103 1274 1327 18 840 1434 1302 407 1001 491 1054 431 1010 954 1017 683 1011 1481 1161 904 1283 337 1439 1009 1445 606 99 7 1091 1163 1341 841 52 137 1131 566 485 132 499 1281 1076 1271 212 1494 1106 394 1292 481 1469 986 397 308 522 94 814 375 1488 737 373 777 950 158 1287 1473 1275 35 1117 1201 1428 234 942 910 637 736 66 345 144 1105 831 614 1107 278 51 1346 1176 806 461 519 276 741 750 1237 963 922 952 1114 587 89 17 154 537 868 759 475 34 898 1060 430 200 421 1055 72 147 643 828 1144 436 1078 1073 261 458 451 1330 343 787 1373 1228 1083 369 1438 905 751 390 821 1132 385 803 1086 1474 745
	@make fclean

.PHONY: all bonus clean fclean re